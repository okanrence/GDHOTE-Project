@model List<GDHOTE.Hub.CoreObject.Models.PaymentView>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<h2>Payments</h2>

@if (Model == null || Model.Count == 0)
{
    <p>No record(s) found</p>
}
else
{
    <div>
        <div class="form-group">
            <label id="lbl-start-date">Start Date</label>
            <input id="start-date" name="start-date" type="text" />
            <button id="btn-fetch" class="btn btn-primary">Fetch</button>
        </div>
        <div>
            <table id="paymenttypes" class="table table-bordered table-hover">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Narration</th>
                        <th>Amount</th>
                        <th>Mode</th>
                        <th>Payment Type</th>
                        <th>Currency</th>
                        <th>PostedBy</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var payment in Model)
                    {
                        <tr>
                            <td>@payment.Surname, @payment.FirstName</td>
                            <td>@payment.Narration</td>
                            <td>@($"{payment.Amount:#,##0.00}") </td>
                            <td>@payment.PaymentMode</td>
                            <td>@payment.PaymentType</td>
                            <td>@payment.Currency</td>
                            <td>@payment.CreatedBy</td>
                            <td>@payment.PostedDate.ToString("dd-MMM-yyyy | HH:mm")</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>

    </div>
}


@section scripts
{
    <script>

        $(document).ready(function () {
            $("#paymenttypes").DataTable();

        });

        $(function () {
            $('#start-date').datepicker({
                format: 'dd-M-yyyy',
                autoclose: 1,
                todayHighlight: 1
            });
        });
    </script>
}
